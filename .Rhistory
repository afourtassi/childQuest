select(-tmp)
View(data_processed)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
tmp = unlist(strsplit(lab1, ':'))[2],
turn = unlist(strsplit(tmp, ':'))[1],
type = unlist(strsplit(lab1, ':'))[2],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select(-tmp, -lab1)
View(data_processed)
child_questions <- data_processed %>%
filter(myID == 1)
head(child_questions)
distinct(child_questions, myID)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
tmp = unlist(strsplit(lab1, ':'))[2],
turn = unlist(strsplit(tmp, ':'))[1],
type = unlist(strsplit(lab1, ':'))[1],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select(-tmp, -lab1)
View(data_processed)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
#tmp = unlist(strsplit(lab1, '-'))[2],
turn = unlist(strsplit(lab1, '-'))[2],
type = unlist(strsplit(lab1, ':'))[1],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select( -lab1)
View(data_processed)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
turn = unlist(strsplit(lab1, ':'))[2],
#turn = unlist(strsplit(lab1, '-'))[2],
type = unlist(strsplit(lab1, ':'))[1],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select( -lab1)
View(data_processed)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
turn = unlist(strsplit(lab1, ':'))[1],
#turn = unlist(strsplit(lab1, '-'))[2],
type = unlist(strsplit(lab1, ':'))[2],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select( -lab1)
View(data_processed)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
tmp = unlist(strsplit(lab1, '-'))[2],
turn = unlist(strsplit(tmp, ':'))[1],
type = unlist(strsplit(lab1, ':'))[2],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select(-tmp, -lab1)
View(data_processed)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, speaker) %>%
summarise(N = n())
child_adult_questions
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n())
child_adult_questions
View(child_adult_questions)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, file, speaker) %>%
summarise(n_files = n())
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, speaker) %>%
summarise(n_files = n())
child_adult_questions
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n())
child_adult_questions
View(child_adult_questions)
distinct(Madeleine)
distinct(Madeleine, file
distinct(Madeleine, file)
distinct(Theophile, file)
Theophile <-  read_csv("Annotations-final/Annotation_csv/Theophile_020020.csv") %>%
mutate(child = "Theophile",
age = 2,
file = "020020") %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Theophile_020208.csv") %>%
mutate(child = "Theophile",
age = 2,
file = "020208")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Theophile_030200.csv") %>%
mutate(child = "Theophile",
age = 3,
file = "030200")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Theophile_030410.csv") %>%
mutate(child = "Theophile",
age = 3,
file = "030410")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Theophile_040329.csv") %>%
mutate(child = "Theophile",
age = 4,
file = "040329")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Theophile_040620.csv") %>%
mutate(child = "Theophile",
age = 4,
file = "040620"))
### dara For Madeleine
######################
Madeleine <-  read_csv("Annotations-final/Annotation_csv/Madeleine_020102.csv") %>%
mutate(child = "Madeleine",
age = 2,
file = "020102") %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Madeleine_020206.csv") %>%
mutate(child = "Madeleine",
age = 2,
file = "020206")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Madeleine_030028.csv") %>%
mutate(child = "Madeleine",
age = 3,
file = "030028")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Madeleine_030302.csv") %>%
mutate(child = "Madeleine",
age = 3,
file = "030302")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Madeleine_041003.csv") %>%
mutate(child = "Madeleine",
age = 4,
file = "041003")) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Madeleine_050105.csv") %>%
mutate(child = "Madeleine",
age = 4,
file = "050105"))
### dara For Adrien
######################
Adrien_020222  <-  read_csv("Annotations-final/Annotation_csv/Adrien_020222.csv") %>%
mutate(child = "Adrien",
age = 2,
file = "020222")
Adrien_020328 <-  read_csv("Annotations-final/Annotation_csv/Adrien_020328_CHI.csv") %>%
mutate(child = "Adrien",
age = 2,
file = "020328") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Adrien_020328_PAR.csv") %>%
mutate(child = "Adrien",
age = 2,
file = "020328") %>%
filter(`list-ID` == 2))
Adrien_030015 <-  read_csv("Annotations-final/Annotation_csv/Adrien_030015_CHI.csv") %>%
mutate(child = "Adrien",
age = 3,
file = "030015") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Adrien_030015_PAR.csv") %>%
mutate(child = "Adrien",
age = 3,
file = "030015") %>%
filter(`list-ID` == 2))
Adrien_030212 <-  read_csv("Annotations-final/Annotation_csv/Adrien_030212_CHI.csv") %>%
mutate(child = "Adrien",
age = 3,
file = "030212") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Adrien_030212_PAR.csv") %>%
mutate(child = "Adrien",
age = 3,
file = "030212") %>%
filter(`list-ID` == 2))
Adrien_030909 <-  read_csv("Annotations-final/Annotation_csv/Adrien_030909_CHI.csv") %>%
mutate(child = "Adrien",
age = 4,
file = "030909") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Adrien_030909_PAR.csv") %>%
mutate(child = "Adrien",
age = 4,
file = "030909") %>%
filter(`list-ID` == 2))
Adrien_031113 <-  read_csv("Annotations-final/Annotation_csv/Adrien_031113_CHI.csv") %>%
mutate(child = "Adrien",
age = 4,
file = "031113") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Adrien_031113_PAR.csv") %>%
mutate(child = "Adrien",
age = 4,
file = "031113") %>%
filter(`list-ID` == 2))
Adrien <- Adrien_020222 %>%
bind_rows(Adrien_020328) %>%
bind_rows(Adrien_030015) %>%
bind_rows(Adrien_030212) %>%
bind_rows(Adrien_030909) %>%
bind_rows(Adrien_031113)
### dara For Anae
##################
Anae_020025 <-  read_csv("Annotations-final/Annotation_csv/Anae_020025_CHI.csv") %>%
mutate(child = "Anae",
age = 2,
file = "020025") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Anae_020025_PAR.csv") %>%
mutate(child = "Anae",
age = 2,
file = "020025") %>%
filter(`list-ID` == 2))
Anae_020105 <-  read_csv("Annotations-final/Annotation_csv/Anae_020105_CHI.csv") %>%
mutate(child = "Anae",
age = 2,
file = "020105") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Anae_020105_PAR.csv") %>%
mutate(child = "Anae",
age = 2,
file = "020105") %>%
filter(`list-ID` == 2))
Anae_021122  <-  read_csv("Annotations-final/Annotation_csv/Anae_021122.csv") %>%
mutate(child = "Anae",
age = 3,
file = "021122")
Anae_030522 <-  read_csv("Annotations-final/Annotation_csv/Anae_030522_CHI.csv") %>%
mutate(child = "Anae",
age = 3,
file = "030522") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Anae_030522_PAR.csv") %>%
mutate(child = "Anae",
age = 3,
file = "030522") %>%
filter(`list-ID` == 2))
Anae_031000 <-  read_csv("Annotations-final/Annotation_csv/Anae_031000_CHI.csv") %>%
mutate(child = "Anae",
age = 4,
file = "031000") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Anae_031000_PAR.csv") %>%
mutate(child = "Anae",
age = 4,
file = "031000") %>%
filter(`list-ID` == 2))
Anae_040012  <-  read_csv("Annotations-final/Annotation_csv/Anae_040012.csv") %>%
mutate(child = "Anae",
age = 4,
file = "040012")
Anae_040523 <-  read_csv("Annotations-final/Annotation_csv/Anae_040523_CHI.csv") %>%
mutate(child = "Anae",
age = 4,
file = "040523") %>%
filter(`list-ID` == 1) %>%
bind_rows(read_csv("Annotations-final/Annotation_csv/Anae_040523_PAR.csv") %>%
mutate(child = "Anae",
age = 4,
file = "040523") %>%
filter(`list-ID` == 2))
Anae <- Anae_020025 %>%
bind_rows(Anae_020105) %>%
bind_rows(Anae_021122) %>%
bind_rows(Anae_030522) %>%
bind_rows(Anae_031000) %>%
bind_rows(Anae_040012) %>%
bind_rows(Anae_040523)
###ALL DATA:
data <- Anae %>%
bind_rows(Adrien) %>%
bind_rows(Madeleine) %>%
bind_rows(Theophile)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
tmp = unlist(strsplit(lab1, '-'))[2],
turn = unlist(strsplit(tmp, ':'))[1],
type = unlist(strsplit(lab1, ':'))[2],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select(-tmp, -lab1) %>%
mutate(age_months = )
data_processed <- data %>%
rename(myID = `list-ID`)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
tmp = unlist(strsplit(lab1, '-'))[2],
turn = unlist(strsplit(tmp, ':'))[1],
type = unlist(strsplit(lab1, ':'))[2],
subtype =  unlist(strsplit(lab1, ':'))[3]
)
data_processed <- data %>%
rename(myID = `list-ID`) %>%
filter(annotation != "[NULL,NULL,NULL]") %>%
rowwise() %>%
mutate(lab1 = str_remove(str_remove(unlist(strsplit(annotation, ',')),"\\["), "]")[1], #For prelimiary results we focus on the first label only
speaker = unlist(strsplit(lab1, '-'))[1],
tmp = unlist(strsplit(lab1, '-'))[2],
turn = unlist(strsplit(tmp, ':'))[1],
type = unlist(strsplit(lab1, ':'))[2],
subtype =  unlist(strsplit(lab1, ':'))[3]
) %>%
select(-tmp, -lab1)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n())
View(child_adult_questions)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, speaker) %>%
summarise(n_files = n())
View(child_adult_questions)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, speaker) %>%
summarise(n_files = n(),
N_avg = N/n_files)
View(child_adult_questions)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, speaker) %>%
summarise(n_files = n())
View(child_adult_questions)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, speaker) %>%
summarise(n_files = n()) %>%
mutate(N_avg = N/n_files)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup()
View(child_adult_questions)
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, speaker) %>%
summarise(N_tot = sum(N),
n_files = n()) %>%
mutate(N_avg = N_tot/n_files)
View(child_adult_questions)
ggplot(child_adult_questions,  aes(age, N_avg, col= speaker))+
geom_line()+
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)
) +
xlab("Cosine similarity") +ylab("Count") +
facet_grid(.~child, scales= "free_y")
child_adult_questions_sum
child_adult_questions
child_adult_questions_sum <- child_adult_questions  %>%
group_by(myID, age, speaker) %>%
summarise(mean = mean(N_avg))
child_adult_questions_sum
child_adult_questions_sum <- child_adult_questions  %>%
group_by(myID, age, speaker) %>%
summarise(mean = mean(N_avg))
ggplot(child_adult_questions_sum,  aes(age, mean, col= speaker))+
geom_line()+
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)) +
xlab("Age") +ylab("Questions") #+
#facet_grid(.~child, scales= "free_y")
child_adult_questions_sum
ggplot(child_adult_questions_sum,  aes(age, mean, col= speaker))+
geom_line()+
geom_point(data = child_adult_questions, aes(age, N_avg) )
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)) +
xlab("Age") +ylab("Questions") #+
ggplot(child_adult_questions_sum,  aes(age, mean, col= speaker))+
geom_line()+
geom_text(data = child_adult_questions, aes(label=N_avg), size = 2.5)+
#geom_point(data = child_adult_questions, aes(age, N_avg) )
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)) +
xlab("Age") +ylab("Questions") #+
child_adult_questions
ggplot(child_adult_questions_sum,  aes(age, mean, col= speaker))+
geom_line()+
geom_text(data = child_adult_questions, aes(age, label=child), size = 2.5)+
#geom_point(data = child_adult_questions, aes(age, N_avg) )
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)) +
xlab("Age") +ylab("Questions") #+
child_adult_questions
ggplot(child_adult_questions_sum,  aes(age, mean, col= speaker))+
geom_line()+
#geom_text(data = child_adult_questions, aes(age, label=child), size = 2.5)+
geom_point(data = child_adult_questions, aes(age, N_avg) )
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)) +
xlab("Age") +ylab("Questions") #+
ggplot(child_adult_questions_sum,  aes(age, mean, col= speaker))+
geom_line()+
#geom_text(data = child_adult_questions, aes(age, label=child), size = 2.5)+
geom_point(data = child_adult_questions, aes(age, N_avg))+
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)) +
xlab("Age") +ylab("Questions") #+
#facet_grid(.~child, scales= "free_y")
child_adult_questions <- data_processed %>%
filter(turn == 'Initiation') %>%
group_by(myID, child, age, file, speaker) %>%
summarise(N = n()) %>%
ungroup() %>%
group_by(myID, child, age, speaker) %>%
summarise(N_tot = sum(N),
n_files = n()) %>%
mutate(N_avg = N_tot/n_files)
ggplot(child_adult_questions,  aes(age, N_avg, col= speaker))+
geom_line()+
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)
) +
xlab("Age") +ylab("Questio") +
facet_grid(.~child, scales= "free_y")
child_adult_questions_sum <- child_adult_questions  %>%
group_by(myID, age, speaker) %>%
summarise(mean = mean(N_avg))
ggplot(child_adult_questions_sum,  aes(age, mean, col= speaker))+
geom_line()+
#geom_text(data = child_adult_questions, aes(age, label=child), size = 2.5)+
geom_point(data = child_adult_questions, aes(age, N_avg))+
theme_few()+
theme(aspect.ratio = 0.7,
axis.text=element_text(size=7, angle = 45),
strip.text.x = element_text(size=7),
strip.text.y = element_text(size=6)) +
xlab("Age") +ylab("Questions") #+
#facet_grid(.~child, scales= "free_y")
View(Madeleine)
View(Madeleine %>% filter(age == 3))
